{"ast":null,"code":"import axios from \"axios\";\nimport { addFile, setFiles } from \"../reduser/fileReduser\";\nexport function getFiles(dirId) {\n  const token = localStorage.getItem(\"token\");\n  const test = {\n    edf: 1\n  };\n  return async dispatch => {\n    try {\n      const response = await axios.get(`http://localhost:4000/api/files${dirId ? \"?data=\" + dirId : \"\"}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(setFiles(response.data));\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n}\nexport function createDir(dirId, name) {\n  const token = localStorage.getItem(\"token\");\n  return async dispatch => {\n    try {\n      const response = await axios.post(`http://localhost:4000/api/files`, {\n        name,\n        parent: dirId,\n        type: \"dir\"\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(addFile(response.data));\n    } catch (e) {\n      alert(e.response.data.message);\n    }\n  };\n}","map":{"version":3,"names":["axios","addFile","setFiles","getFiles","dirId","token","localStorage","getItem","test","edf","dispatch","response","get","headers","Authorization","data","e","alert","message","createDir","name","post","parent","type"],"sources":["C:/Users/User/Desktop/cloud/client/src/actions/file.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { addFile, setFiles } from \"../reduser/fileReduser\";\r\n\r\nexport function getFiles(dirId) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const test = { edf: 1 };\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:4000/api/files${dirId ? \"?data=\" + dirId : \"\"}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      dispatch(setFiles(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    }\r\n  };\r\n}\r\n\r\nexport function createDir(dirId, name) {\r\n  const token = localStorage.getItem(\"token\");\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `http://localhost:4000/api/files`,\r\n        {\r\n          name,\r\n          parent: dirId,\r\n          type: \"dir\",\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      dispatch(addFile(response.data));\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    }\r\n  };\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,QAAQ,QAAQ,wBAAwB;AAE1D,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAE;EAC9B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,IAAI,GAAG;IAAEC,GAAG,EAAE;EAAE,CAAC;EACvB,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAG,CAC7B,kCAAiCR,KAAK,GAAG,QAAQ,GAAGA,KAAK,GAAG,EAAG,EAAC,EACjE;QACES,OAAO,EAAE;UACPC,aAAa,EAAG,UAAST,KAAM;QACjC;MACF,CAAC,CACF;MACDK,QAAQ,CAACR,QAAQ,CAACS,QAAQ,CAACI,IAAI,CAAC,CAAC;IACnC,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVC,KAAK,CAACD,CAAC,CAACL,QAAQ,CAACI,IAAI,CAACG,OAAO,CAAC;IAChC;EACF,CAAC;AACH;AAEA,OAAO,SAASC,SAASA,CAACf,KAAK,EAAEgB,IAAI,EAAE;EACrC,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,OAAO,MAAOG,QAAQ,IAAK;IACzB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACqB,IAAI,CAC9B,iCAAgC,EACjC;QACED,IAAI;QACJE,MAAM,EAAElB,KAAK;QACbmB,IAAI,EAAE;MACR,CAAC,EACD;QACEV,OAAO,EAAE;UAAEC,aAAa,EAAG,UAAST,KAAM;QAAE;MAC9C,CAAC,CACF;MACDK,QAAQ,CAACT,OAAO,CAACU,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVC,KAAK,CAACD,CAAC,CAACL,QAAQ,CAACI,IAAI,CAACG,OAAO,CAAC;IAChC;EACF,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}